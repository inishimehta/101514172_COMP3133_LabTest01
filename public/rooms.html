<!doctype html>
<html>
  <body>
    <h3>Chat app</h3>

    <label>Username</label>
    <input id="username" placeholder="Enter username" />

    <label>Room</label>
    <select id="room">
      <option value="Fashion">Fashion</option>
      <option value="Aliens">Aliens</option>
      <option value="MentalHealth">MentalHealth</option>
      <option value="Entrepreneurship">Entrepreneurship</option>
      <option value="Travel">Travel</option>
      <option value="Technology">Technology</option>
      <option value="Paranormal">Paranormal</option>
    </select>

    <button id="join">Join Chat Room</button>
    <button id="logout">Logout</button>

    <script>
      const usernameInput = document.getElementById("username");
      const storedUsername = localStorage.getItem("username");

      // Require login
      if (!storedUsername) {
        window.location = "/login.html";
      } else {
        usernameInput.value = storedUsername;
        usernameInput.readOnly = true;
      }

      document.getElementById("join").onclick = () => {
        const room = document.getElementById("room").value;
        localStorage.setItem("room", room);
        window.location = "/chat.html";
      };

      document.getElementById("logout").onclick = () => {
        localStorage.removeItem("username");
        localStorage.removeItem("room");
        window.location = "/login.html";
      };
    </script>
  </body>
</html>
